@model WebAppSastiServices.Models.DB.TRNInvoice
@using WebAppSastiServices.Models.DB;
@{
    Layout = null;
    int count = 0;
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PrintInvoice</title>
    <link rel="stylesheet" href="~/plugins/bootstrap/css/bootstrap.min.css" />
    <style>
        .Category {
            background: gray;
            padding: 5px 10px;
            margin: 2px 5px;
            border-radius: 2px;
            display: inline-block;
            color: aliceblue;
        }
    </style>
</head>
<body>
    <div class="container" style="height:1300px;position:relative;">
        @if (Model != null)
        {
            <div class="card">
                <div class="p-5" style="width:100%;height:180px;">
                    <div style="width: 30%; height: 200px; float: left;">
                        <img class="mb-1 z-index-1" src="~/img/logos/logofaviconvector/86 pixel height.png" />
                        <p style="margin:0;">
                            info@KaamWaley.com
                        </p>
                        <p style="margin:0;">
                            03301649999
                        </p>
                    </div>
                    <div style="width:45%;float:left;text-align:center;">
                        <h4 class="mb-2 text-center">Deal In</h4>
                        <div class="Category">Generators</div>
                        <div class="Category">AC</div>
                        <div class="Category">Electric Appliances</div>
                        <div class="Category">UPS</div>
                        <div class="Category">Solar Sys</div>
                        <div class="Category">CCTV</div>
                    </div>
                    <div style="width:25%;height:200px;float:left;text-align:right;">
                        <p class="font-weight-bold mb-1">Invoice #@Model.ID</p>
                        <p class="text-muted">@System.DateTime.Now.ToString("MM/dd/yyyy hh:mm tt")</p>
                    </div>
                </div>
                <hr>
                <div class="p-3" style="width:100%;position:relative;height:170px;">

                    <h3 class="mb-4 text-center font-weight-bolder" style="letter-spacing:1px;text-transform:uppercase;">Invoice</h3>
                    <div style="width:50%;height:200px;position:absolute;left:20px;">
                        <p class="mb-1"><span class="text-muted">Name:  &nbsp; &nbsp;</span> @Model.TRNCustomerOrder.CustomerName</p>
                        <p class="mb-1"><span class="text-muted">Contact:&nbsp;</span> @Model.TRNCustomerOrder.Contact</p>
                        <p class="mb-1"><span class="text-muted">Email:&nbsp; &nbsp; &nbsp;</span> @Model.TRNCustomerOrder.Email</p>
                        <p class="mb-1"><span class="text-muted">Address:&nbsp;</span> @Model.TRNCustomerOrder.Address</p>
                    </div>
                    <div class="text-right" style="width:50%;height:200px;position:absolute;right:20px;">
                        <p class="mb-1"><span class="text-muted">Order#: </span> @Model.STPOrdersID</p>
                        <p class="mb-2"><span class="text-muted">UnitType: </span> @Model.TRNCustomerOrder.STPServicesUnitType.Options</p>
                    </div>
                </div>
                <div class="row p-3">
                    <div class="col-md-12">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th class="border-0 text-uppercase small font-weight-bold">Sr#</th>
                                    <th class="border-0 text-uppercase small font-weight-bold">Description</th>
                                    <th class="border-0 text-uppercase small font-weight-bold">Quantity</th>
                                    <th class="border-0 text-uppercase small font-weight-bold">Rate</th>
                                    <th class="border-0 text-uppercase small font-weight-bold">Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (ViewBag.ServiceData != null || ViewBag.ProductData != null)
                                {
                                    foreach (var item in (IEnumerable<TRNCustomerOrders_STPServices>)ViewBag.ServiceData)
                                    {
                                        count++;
                                        <tr>
                                            <td>@count</td>
                                            <td>@item.STPService.ServiceName (Service)  </td>
                                            <td></td>
                                            <td>@item.Rate</td>
                                            <td>@item.Rate</td>
                                        </tr>
                                    }
                                    foreach (var item in (IEnumerable<TRNCustomerOrders_STPProductItems>)ViewBag.ProductData)
                                    {
                                        count++;
                                        var Total = @item.STPServiceProductItem.SellingPrice * @item.QTY;
                                        <tr>
                                            <td>@count</td>
                                            <td>@item.STPServiceProductItem.ServiceProductName (Items)  </td>
                                            <td></td>
                                            <td>@item.STPServiceProductItem.SellingPrice</td>
                                            <td>@item.STPServiceProductItem.SellingPrice</td>
                                        </tr>
                                    }
                                }
                            </tbody>
                        </table>
                    </div>
                </div>

            </div>

            <div class="text-white p-1" style="width:100%;background:#888888">
                <div class="py-3 px-5 text-right">
                    <div class="mb-2"> Total amount</div>
                    <div class="h2 font-weight-light">Rs. @Model.TotalAmount</div>
                </div>
            </div>



            <div style="position:absolute;bottom:0;width:100%;">
                <div style="width:100%;">
                    <div style="width:50%;float:left;text-align:center;">
                        <p style="border-top:2px double #808080;display:inline;">Receiver Signature</p>
                    </div>
                    <div style="width:50%;float:left;text-align:center;">
                        <p style="border-top:2px double #808080;display:inline;">For: Kaam Waley Operational Department</p>
                    </div>
                </div>
                <div style="clear:both;"></div>
                <p style="margin:0;padding:0;border-top:2px double #808080;padding-top:5px;">HeadOffice: suite# 304 & 307, anum blessings, KCHSU, Sharah e faisal, Karachi.</p>
                <p style="margin:0;padding:0;">Facebook: https://www.facebook.com/Kaam-Waley-106682491242377 </p>
                <p style="margin:0;padding:0;">Powered by 9soft solution</p>
            </div>
        }
        else
        {
            <script>
                alert("invoice not found!");
            </script>
        }
    </div>
</body>
</html>
